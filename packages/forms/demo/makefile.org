#
# Makefile for forms library.
#
# 1997 Michael Van Canneyt (michael@tfdec1.fys.kuleuven.ac.be)
#
# DO NOT try to 'Make' anything here. 
# Everything that is needed comes from the top Makefile.
# do a 'make demo' in that directory.
###########################################################################


ifndef PP 
PP=ppc386
endif

ifndef XLIB
XLIB=/usr/X11/lib
endif

# Stupid bug converts .. to . ????  Hence ... ??? Should be fixed !!
ifndef PPOPTS
PPOPTS:= -Up.. -Fl$(XLIB) -FL/lib/ld-linux.so.1
else
override PPOPTS:=$(PPOPTS) -Up.. -Fl$(XLIB)
endif

ifdef FORMLIB
override PPOPTS:=$(PPOPTS) -Fl$(FORMLIB)
endif

compiler = $(PP) $(PPOPTS)


.SUFFIXES: .pp .ppu

.pp.ppu:
	$(compiler) $<

OBJECTS= pushme yesno pushbutton touchbutton minput inputall choice butttypes\
         colsel colsel1 buttonall chartall positioner secretinput cursor fdial\
         ldial ndial invslider sliderall borderwidth boxtype xyplotover\
         arrowbutton browserop browserall chartstrip colbrowser counter\
         fbrowse1 fbrowse flclock fonts goodies lalign ll longlabel menu\
         objinactive objpos newbutton multilabel objreturn
# These cannot be made for some reason or don't run.
#        pup canvas free1 group iconify

help :
	@echo 'Please run "make" in the top-level directory.'
	@echo 'You need to edit the Makefile there to specify some needed'
	@echo 'settings.'

all : $(OBJECTS)

install : all

$(OBJECTS) : %: %.pp
	-$(compiler) $@.pp

clean :
	-rm -f link.res *.o *.s *.PPS $(OBJECTS) 
