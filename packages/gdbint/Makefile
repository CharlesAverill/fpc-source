#
# Makefile generated by fpcmake v0.99.13 on 1999-12-21 16:56
#

defaultrule: all

#####################################################################
# Autodetect OS (Linux or D





# Targets

override UNITOBJECTS+=gdbint gdbcon
override EXEOBJECTS+=symify
override EXAMPLEOBJECTS+=testgdb

# Clean


# Install

ZIPTARGET=install

# Defaults


# Directories

ifndef FPCDIR
FPCDIR=..
endif
ifndef PACKAGEDIR
PACKAGEDIR=$(FPCDIR)/packages
endif
ifndef COMPONENTDIR
COMPONENTDIR=$(FPCDIR)/components
endif
override NEEDLIBDIR=libgdb/$(OS_TARGET)
override NEEDOBJDIR=libgdb/$(OS_TARGET)
ifndef TARGETDIR
TARGETDIR=.
endif

# Packages


# Libraries

override NEEDGCCLIB=1

# Info

INFOTARGET=fpc_infocfg fpc_infoobjects fpc_infoinstall 























all: fpc_all

debug: fpc_debug

examples: fpc_examples

smart: fpc_smart

shared: fpc_shared

showinstall: fpc_showinstall

install: fpc_install

sourceinstall: fpc_sourceinstall

zipinstall: fpc_zipinstall

zipinstalladd: fpc_zipinstalladd

clean: fpc_clean

cleanall: fpc_cleanall

info: fpc_info

.PHONY:  all debug examples smart shared showinstall install sourceinstall zipinstall zipinstalladd clean cleanall info


ifneq ($(wildcard $(RTLDIR)),)
ifeq ($(wildcard $(RTLDIR)/$(FPCMADE)),)
override COMPILEPACKAGES+=rtl
rtl_package:
	$(MAKE) -C $(RTLDIR) all
endif
endif

.PHONY:  rtl_package















gdbint$(PPUEXT): gdbint$(PASEXT)

gdbcon$(PPUEXT): gdbcon$(PASEXT) gdbint$(PPUEXT)

ifeq ($(OS_TARGET),go32v2)
DBGCOM=dbgcom$(OEXT)
else
DBGCOM=
endif

ifdef $(COMPILEDBGCOM)
# FPC conditionnal remove the file watching mecanism introduced
# in v2.02 of dbgcom.c because it relies
# on the fact that all files are opened via C lib calls
# which is wrong for FPC !!
$(DBGCOM): ../v4.16/dbgcom.c
	gcc -c -DFPC -Dother_sel -gstabs -o dbgcom.o -I../v4.16 ../v4.16/dbgcom.c
else
$(DBGCOM):
endif

simple: $(DBGCOM)
	-rm gdbint.ppu
	ppc386 -dUSE_LIBGDB gdbint
	ppc386 testgdb

testgdb$(EXEEXT): testgdb.pp gdbint$(PPUEXT) gdbcon$(PPUEXT) $(DBGCOM)

# Allow test for example
.PHONY: test

test: examples
